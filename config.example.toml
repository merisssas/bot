# Teleload example configuration (UTF-8).
# For full documentation: https://github.com/merisssas/Bot
lang = "en"
workers = 4    # Number of concurrent download tasks.
retry = 3      # Retries per failed task.
threads = 4    # Max threads used per download task.
stream = false # Stream mode (recommended only when disk space is limited).

[telegram]
# Bot Token
# After changing the Bot Token, delete the session database (default: data/session.db).
token = ""
# Telegram API settings. If omitted, defaults are used.
# We recommend using your own API ID and API HASH (https://my.telegram.org).
# app_id = 1025907
# app_hash = "452b0359b988148995f22ff0f4229750"
[telegram.proxy]
# Enable proxy for Telegram connections.
enable = false
url = "socks5://127.0.0.1:7890"

# Aria2 configuration
[aria2]
# Enable Aria2 download support.
enable = false
# Aria2 RPC URL
url = "http://localhost:6800/jsonrpc"
# Aria2 RPC Secret (if rpc-secret is set in Aria2).
secret = ""
# Remove local files downloaded by Aria2 after transfer.
remove_after_transfer = true
# Max retry attempts per download.
max_retries = 5
# Retry backoff policy.
retry_base_delay = "500ms"
retry_max_delay = "10s"
# Resume partial downloads when possible.
enable_resume = true
# Multi-connection/segmented settings.
split = 8
max_conn_per_server = 4
min_split_size = "1MB"
# Bandwidth control (per task).
limit_rate = ""
burst_rate = "2MB"
burst_duration = "10s"
# overwrite | rename | skip
overwrite_policy = "rename"
# Dry-run mode to validate metadata without downloading files.
dry_run = false
# Checksum verification (optional).
checksum_algorithm = ""
expected_checksum = ""
# Downloader identity and network options.
user_agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) UltimateDownloader/2.0"
proxy = ""
# Optional custom headers.
headers = {}
# Queue priority (higher runs first when multiple links are queued).
default_priority = 0

# yt-dlp configuration
[ytdlp]
# Maximum retry attempts per URL download.
max_retries = 5
# Number of URLs to download in parallel (queue workers).
download_concurrency = 2
# Concurrent fragment downloads for HLS/DASH.
fragment_concurrency = 16
# Resume partial downloads when possible.
enable_resume = true
# Optional proxy for yt-dlp only (overrides global proxy).
proxy = ""
# External downloader (e.g. "aria2c") and extra args for segmented downloads.
external_downloader = ""
external_downloader_args = []
# Bandwidth limit and throttled rate (e.g. "10M", "500K").
limit_rate = ""
throttled_rate = ""
# overwrite | rename | skip
overwrite_policy = "rename"
# Format sorting preferences for yt-dlp (comma-separated).
format_sort = "res:1080,vcodec:h264,acodec:aac"
# Optional recode target (empty disables recode).
recode_video = "mp4"
# Optional merge output format (empty disables merge override).
merge_output_format = "mp4"
# Dry-run mode to validate metadata without downloading files.
dry_run = false
# Checksum verification (optional).
checksum_algorithm = ""
expected_checksum = ""
write_checksum_file = false
# Logging configuration for yt-dlp task.
log_file = ""
log_level = "info"
user_agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) UltimateDownloader/2.0"

# Directlinks configuration (HTTP/HTTPS downloader)
[directlinks]
# Max concurrent files per directlinks task.
max_concurrency = 4
# Max concurrent segments per file when server supports range.
segment_concurrency = 16
# Multipart thresholds (human-friendly sizes).
min_multipart_size = "5MB"
min_segment_size = "1MB"
# Resume partial downloads when possible.
enable_resume = true
# Retry policy with exponential backoff.
max_retries = 5
retry_base_delay = "500ms"
retry_max_delay = "10s"
# Bandwidth control.
limit_rate = ""  # e.g. "10M"
burst_rate = "2MB"
# overwrite | rename | skip
overwrite_policy = "rename"
# Dry-run mode to validate metadata without downloading files.
dry_run = false
# Checksum verification (optional).
checksum_algorithm = ""
expected_checksum = ""
write_checksum_file = false
# Logging configuration for directlinks task.
log_file = ""
log_level = "info"
user_agent = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) UltimateDownloader/2.0"
# Optional proxy for directlinks only (overrides global proxy).
proxy = ""
# Optional basic auth for protected URLs.
auth_username = ""
auth_password = ""
# Queue priority (higher runs first when multiple links are queued).
default_priority = 0

# Storage list
[[storages]]
# Unique storage name
name = "Local-1"
# Storage type: local, alist, webdav, s3, telegram
type = "local"
# Enable storage
enable = true
# Root path for storage files
base_path = "./downloads"

[[storages]]
name = "MyWebdav"
type = "webdav"
enable = false
base_path = "/path/telegram"
url = "https://example.com/dav"
username = "username"
password = "password"

# User list
[[users]]
# Telegram user ID
id = 114514
# Storage filter list (storage names).
# Leave empty and enable blacklist mode to allow all storages (as shown here).
storages = []
# Blacklist mode (when false, the list becomes an allowlist).
blacklist = true

[[users]]
id = 123456
storages = ["Local-1"]
blacklist = false  # Allowlist mode: user 123456 can only use "Local-1".
